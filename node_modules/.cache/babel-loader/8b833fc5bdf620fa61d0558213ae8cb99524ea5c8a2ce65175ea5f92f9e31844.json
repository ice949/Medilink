{"ast":null,"code":"import { get, reject } from \"lodash\";\nimport moment from \"moment/moment\";\nimport { createSelector } from \"reselect\";\nconst allData = state => get(state, \"medical.allMedical.data\", []);\nconst deleteData = state => get(state, \"medical.deleteMedical.data\", []);\n// const account = (state) => get(state, \"provider.account\");\nconst events = state => get(state, \"medical.events\");\nconst openData = state => {\n  const all = allData(state);\n  const delet = deleteData(state);\n  const openData = reject(all, data => {\n    const dataDeleted = delet.some(o => o.recordId.toString() === data.recordId.toString());\n    return dataDeleted;\n  });\n  return openData;\n};\nexport const dataBookSelector = createSelector(openData, data => {\n  data = decorateOpenData(data);\n  return data;\n});\nconst decorateOpenData = datas => {\n  return datas.map(data => {\n    data = decorateOrder(data);\n    return data;\n  });\n};\nexport const decorateOrder = data => {\n  const precision = 100000;\n  let recordIdNew = Math.round(data.recordId * precision) / precision;\n  let ageNew = Math.round(data.age * precision) / precision;\n  return {\n    ...data,\n    recordIdNew,\n    ageNew,\n    formattedTimestamp: moment.unix(data.timestamp).format(\"h:mm:ssa d MMM yyyy\")\n  };\n};\nexport const myEventsSelector = createSelector(\n// account,\nevents, events => {\n  return events;\n});","map":{"version":3,"names":["get","reject","moment","createSelector","allData","state","deleteData","events","openData","all","delet","data","dataDeleted","some","o","recordId","toString","dataBookSelector","decorateOpenData","datas","map","decorateOrder","precision","recordIdNew","Math","round","ageNew","age","formattedTimestamp","unix","timestamp","format","myEventsSelector"],"sources":["C:/Users/Madalitso/Documents/GitHub/Blockchain/Medilink/src/store/selectors.js"],"sourcesContent":["import { get, reject } from \"lodash\";\r\nimport moment from \"moment/moment\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nconst allData = (state) => get(state, \"medical.allMedical.data\", []);\r\nconst deleteData = (state) => get(state, \"medical.deleteMedical.data\", []);\r\n// const account = (state) => get(state, \"provider.account\");\r\nconst events = (state) => get(state, \"medical.events\");\r\nconst openData = (state) => {\r\n  const all = allData(state);\r\n  const delet = deleteData(state);\r\n  const openData = reject(all, (data) => {\r\n    const dataDeleted = delet.some(\r\n      (o) => o.recordId.toString() === data.recordId.toString()\r\n    );\r\n    return dataDeleted;\r\n  });\r\n  return openData;\r\n};\r\nexport const dataBookSelector = createSelector(openData, (data) => {\r\n  data = decorateOpenData(data);\r\n  return data;\r\n});\r\nconst decorateOpenData = (datas) => {\r\n  return datas.map((data) => {\r\n    data = decorateOrder(data);\r\n    return data;\r\n  });\r\n};\r\nexport const decorateOrder = (data) => {\r\n  const precision = 100000;\r\n  let recordIdNew = Math.round(data.recordId * precision) / precision;\r\n  let ageNew = Math.round(data.age * precision) / precision;\r\n  return {\r\n    ...data,\r\n    recordIdNew,\r\n    ageNew,\r\n    formattedTimestamp: moment\r\n      .unix(data.timestamp)\r\n      .format(\"h:mm:ssa d MMM yyyy\"),\r\n  };\r\n};\r\n\r\nexport const myEventsSelector = createSelector(\r\n  // account,\r\n  events,\r\n  ( events) => {\r\n    return events;\r\n  }\r\n);\r\n"],"mappings":"AAAA,SAASA,GAAG,EAAEC,MAAM,QAAQ,QAAQ;AACpC,OAAOC,MAAM,MAAM,eAAe;AAClC,SAASC,cAAc,QAAQ,UAAU;AAEzC,MAAMC,OAAO,GAAIC,KAAK,IAAKL,GAAG,CAACK,KAAK,EAAE,yBAAyB,EAAE,EAAE,CAAC;AACpE,MAAMC,UAAU,GAAID,KAAK,IAAKL,GAAG,CAACK,KAAK,EAAE,4BAA4B,EAAE,EAAE,CAAC;AAC1E;AACA,MAAME,MAAM,GAAIF,KAAK,IAAKL,GAAG,CAACK,KAAK,EAAE,gBAAgB,CAAC;AACtD,MAAMG,QAAQ,GAAIH,KAAK,IAAK;EAC1B,MAAMI,GAAG,GAAGL,OAAO,CAACC,KAAK,CAAC;EAC1B,MAAMK,KAAK,GAAGJ,UAAU,CAACD,KAAK,CAAC;EAC/B,MAAMG,QAAQ,GAAGP,MAAM,CAACQ,GAAG,EAAGE,IAAI,IAAK;IACrC,MAAMC,WAAW,GAAGF,KAAK,CAACG,IAAI,CAC3BC,CAAC,IAAKA,CAAC,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC,KAAKL,IAAI,CAACI,QAAQ,CAACC,QAAQ,CAAC,CAC1D,CAAC;IACD,OAAOJ,WAAW;EACpB,CAAC,CAAC;EACF,OAAOJ,QAAQ;AACjB,CAAC;AACD,OAAO,MAAMS,gBAAgB,GAAGd,cAAc,CAACK,QAAQ,EAAGG,IAAI,IAAK;EACjEA,IAAI,GAAGO,gBAAgB,CAACP,IAAI,CAAC;EAC7B,OAAOA,IAAI;AACb,CAAC,CAAC;AACF,MAAMO,gBAAgB,GAAIC,KAAK,IAAK;EAClC,OAAOA,KAAK,CAACC,GAAG,CAAET,IAAI,IAAK;IACzBA,IAAI,GAAGU,aAAa,CAACV,IAAI,CAAC;IAC1B,OAAOA,IAAI;EACb,CAAC,CAAC;AACJ,CAAC;AACD,OAAO,MAAMU,aAAa,GAAIV,IAAI,IAAK;EACrC,MAAMW,SAAS,GAAG,MAAM;EACxB,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACd,IAAI,CAACI,QAAQ,GAAGO,SAAS,CAAC,GAAGA,SAAS;EACnE,IAAII,MAAM,GAAGF,IAAI,CAACC,KAAK,CAACd,IAAI,CAACgB,GAAG,GAAGL,SAAS,CAAC,GAAGA,SAAS;EACzD,OAAO;IACL,GAAGX,IAAI;IACPY,WAAW;IACXG,MAAM;IACNE,kBAAkB,EAAE1B,MAAM,CACvB2B,IAAI,CAAClB,IAAI,CAACmB,SAAS,CAAC,CACpBC,MAAM,CAAC,qBAAqB;EACjC,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAG7B,cAAc;AAC5C;AACAI,MAAM,EACJA,MAAM,IAAK;EACX,OAAOA,MAAM;AACf,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}